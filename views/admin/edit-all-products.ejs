<%- include('../partials/header') %>

<h2 style="margin-bottom:10px;">Mass Edit Products</h2>

<form action="/admin/products/edit-all" method="POST">

<table border="1" cellpadding="8" width="100%" 
style="border-collapse:collapse; font-size:15px; text-align:left;">

<tr style="background:#f2f2f2; font-weight:bold;">
    <th style="width:4%;">ID</th>
    <th style="width:25%;">Name</th>
    <th style="width:8%;">Price</th>
    <th style="width:15%;">Category</th>
    <th style="width:28%;">Description</th>
    <th style="width:20%;">Image URL</th>
</tr>

<% products.forEach((p,i)=>{ %>
<tr>

    <td>
        <%= p.id %>
        <input type="hidden" name="id[]" value="<%= p.id %>">
    </td>

    <td>
        <input type="text" name="name[]" 
        value="<%= p.name %>" 
        style="width:100%; padding:5px; font-size:14px;">
    </td>

    <td>
        <input type="number" name="price[]" 
        value="<%= p.price %>" 
        style="width:100%; padding:5px; font-size:14px;">
    </td>

    <td>
        <select name="category_id[]" style="width:100%; padding:5px; font-size:14px;">
            <% categories.forEach(c=>{ %>
                <option value="<%= c.id %>" <%= p.category_id==c.id?'selected':'' %>>
                    <%= c.name %>
                </option>
            <% }) %>
        </select>
    </td>

    <td>
        <textarea name="description[]" 
        style="width:100%; height:80px; padding:5px; font-size:14px;"><%= p.description %></textarea>
    </td>

    <td>
        <input type="text" name="image[]" 
        value="<%= p.image %>" 
        style="width:100%; padding:5px; font-size:14px;">
    </td>

</tr>
<% }) %>

</table>


<br>

<button type="submit" style="padding:10px 20px;background:green;color:white;font-weight:bold;border-radius:5px;">
    ðŸ’¾ Save All Changes
</button>

</form>

<%- include('../partials/footer') %>
