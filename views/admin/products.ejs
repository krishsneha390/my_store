<%- include('../partials/header') %>

<h2 style="margin-bottom:15px;">Product List</h2>

<!-- üî• Mass Edit Shortcut Button -->
<div style="text-align:right; margin-bottom:15px;">
    <a href="/admin/mass-edit" 
       style="padding:10px 18px; background:black; color:white; border-radius:5px; text-decoration:none; font-size:16px;">
       ‚úè Mass Edit Products
    </a>
</div>

<!-- Products Table -->
<!-- Products Table -->
<table border="1" width="100%" cellpadding="10" style="border-collapse:collapse; font-size:15px;">
    <tr style="background:#f2f2f2;">
        <th>ID</th>
        <th style="width:350px;">Name</th> <!-- WIDER column -->
        <th>Price</th>
        <th>Image</th>
        <th>Actions</th>
    </tr>

    <% products.forEach(p => { %>
    <tr>
        <td><%= p.id %></td>

        <!-- üåü MULTILINE product name -->
        <td style="white-space:normal; word-wrap:break-word; line-height:20px;">
            <%= p.name %>
        </td>

        <td>Rs <%= p.price %></td>

        <td>
            <% if(p.image) { %>
                <img src="<%= p.image.startsWith('/uploads') ? p.image : '/uploads/' + p.image %>" 
                     width="70" style="border-radius:5px;">
            <% } else { %>
                No Image
            <% } %>
        </td>

        <td>
            <a href="/product/<%= p.id %>" 
               style="padding:5px 10px; background:#007bff; color:white; text-decoration:none; border-radius:4px;">
               View
            </a>
        </td>
    </tr>
    <% }) %>
</table>


<%- include('../partials/footer') %>
